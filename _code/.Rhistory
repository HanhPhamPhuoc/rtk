data <- read.csv("database.csv")
View(data)
data <- read.csv("database.csv")$fids
data <- read.csv("database.csv")
dat <- data$fids
data <- data$flds
data <- read.csv("database.csv")
flds <- data$flds
flds[1]
line <- str_split(flds, "[\000-\037]/")
line <- str_split(flds, "[^\040-\176]/")
library(stringr)
line <- str_split(flds, "[^\040-\176]/")
line <- str_split(flds[1], "[^\040-\176]/")
flds <- as.vector(data$flds)
flds[1]
i <- 1
data <- as.vector(data$flds)
n <- length(data)
n
line <- data[i]
line
line <- str_replace_all(line, "[\0371\037]", " ")
line
line <- data[i]
line <- str_replace_all(line, "[\u0371\037]", " ")
line <- str_replace_all(line, "\u0371", " ")
line <- data[i]
line <- str_replace_all(line, "\u0371", " ")
line <- str_replace_all(line, "\371", " ")
line
line <- data[i]
line <- str_replace_all(line, "[\u0371]", " ")
line <- str_replace_all(line, "[\371]", " ")
line
line <- data[i]
line <- str_replace_all(line, "[\0371]", " ")
line
line <- data[i]
line <- str_replace_all(line, "[\037]", " ")
line
line <- data[i]
line <- str_split(line, "\037")
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.id <- l[1]
l.stk <- l[9]
l[19]
l[10]
l[11]
l[8]
l[7]
l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"images\\")
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"images\\")
l.image
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"images\/")
l.image <- str_replace(l.image, "src=\"", "src=\"images/")
l.image
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.image
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.word
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.stokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
l.nv <- as.numeric(l.no)
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nv - 1,
"\nnex_kanji: ", l.nv + 1,
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## On-Yomi: ",l.on,"Kun-Yomi: ",l.kun,
"\n\n### Examples: ", l.example,
"\n\n### Words:\n\n", l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.strokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
l.nv <- as.numeric(l.no)
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nv - 1,
"\nnex_kanji: ", l.nv + 1,
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## On-Yomi: ",l.on,"Kun-Yomi: ",l.kun,
"\n\n### Examples: ", l.example,
"\n\n### Words:\n\n", l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
i <- 1858
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.image <- paste0("<div class=\"stroke\">",l.image,"</div>")
l.strokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
l.nv <- as.numeric(l.no)
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nv - 1,
"\nnex_kanji: ", l.nv + 1,
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## Reading:",
"\n\n### On-Yomi: ",l.on," &mdash; Kun-Yomi: ",l.kun,
"\n\n### Examples: ", l.example,
"\n\n## Words:\n\n", l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
l.example
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.image <- paste0("<div class=\"stroke\">",l.image,"</div>")
l.strokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
l.nv <- as.numeric(l.no)
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nv - 1,
"\nnex_kanji: ", l.nv + 1,
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## Reading:",
"\n\n### On-Yomi: ",l.on," &mdash; Kun-Yomi: ",l.kun,
ifesle(l.example == "","",
"\n\n### Examples: "), l.example,
ifesle(l.word == "","","\n\n## Words:\n\n"), l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
?ifelse
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.image <- paste0("<div class=\"stroke\">",l.image,"</div>")
l.strokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
l.nv <- as.numeric(l.no)
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nv - 1,
"\nnex_kanji: ", l.nv + 1,
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## Reading:",
"\n\n### On-Yomi: ",l.on," &mdash; Kun-Yomi: ",l.kun,
ifelse(l.example == "","",
"\n\n### Examples: "), l.example,
ifelse(l.word == "","","\n\n## Words:\n\n"), l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
for (i in 1:n) {
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.image <- paste0("<div class=\"stroke\">",l.image,"</div>")
l.strokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
l.nv <- as.numeric(l.no)
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nv - 1,
"\nnex_kanji: ", l.nv + 1,
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## Reading:",
"\n\n### On-Yomi: ",l.on," &mdash; Kun-Yomi: ",l.kun,
ifelse(l.example == "","",
"\n\n### Examples: "), l.example,
ifelse(l.word == "","","\n\n## Words:\n\n"), l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
}
nav <- rep(0, n)
nav[1]
l.nav <- rep(0, n+2)
for (i in 1:n) {
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
l.nav[i+1] <- l.no
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.image <- paste0("<div class=\"stroke\">",l.image,"</div>")
l.strokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
}
for i in (1:n) {
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nav[i],
"\nnex_kanji: ", l.nav[i+2],
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## Reading:",
"\n\n### On-Yomi: ",l.on," &mdash; Kun-Yomi: ",l.kun,
ifelse(l.example == "","",
"\n\n### Examples: "), l.example,
ifelse(l.word == "","","\n\n## Words:\n\n"), l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
}
l.nav <- rep(0, n+2)
for (i in 1:n) {
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
l.nav[i+1] <- l.no
}
l.nav
for i in (1:n) {
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.image <- paste0("<div class=\"stroke\">",l.image,"</div>")
l.strokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nav[i],
"\nnex_kanji: ", l.nav[i+2],
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## Reading:",
"\n\n### On-Yomi: ",l.on," &mdash; Kun-Yomi: ",l.kun,
ifelse(l.example == "","",
"\n\n### Examples: "), l.example,
ifelse(l.word == "","","\n\n## Words:\n\n"), l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
}
for i in (1:n) {
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.image <- paste0("<div class=\"stroke\">",l.image,"</div>")
l.strokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nav[i],
"\nnex_kanji: ", l.nav[i+2],
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## Reading:",
"\n\n### On-Yomi: ",l.on,
ifelse(l.kun=="",""," &mdash; Kun-Yomi: "),l.kun,
ifelse(l.example == "","",
"\n\n### Examples: "), l.example,
ifelse(l.word == "","","\n\n## Words:\n\n"), l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
}
for (i in 1:n) {
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
# l.v6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.image <- l[6]
l.image <- str_replace(l.image, "src=\"", "src=\"../images/")
l.image <- paste0("<div class=\"stroke\">",l.image,"</div>")
l.strokes <- l[9]
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no)),l.no)
content <- paste0("---\nlayout: post\ntitle: ",l.no,
"\npermalink: /", l.no,"/",
"\npre_kanji: ", l.nav[i],
"\nnex_kanji: ", l.nav[i+2],
"\n---",
"\n\n# {",l.ka,"}",
"\n\n## Strokes: ",l.strokes,"\n\n",l.image,
"\n\n## Reading:",
"\n\n### On-Yomi: ",l.on,
ifelse(l.kun=="",""," &mdash; Kun-Yomi: "),l.kun,
ifelse(l.example == "","",
"\n\n### Examples: "), l.example,
ifelse(l.word == "","","\n\n## Words:\n\n"), l.word)
l.path <- paste0("/data/repos/hochanh/rtk-jisho/jisho/",l.na,".md")
writeLines(content, l.path)
}
