"\nredirect_from:",
"\n - /", s.ka, "/",
"\n - /", s.key, "/",
"\n---",
"\n\n", s.koo,
"\n")
s.path <- paste0("/data/repos/manhtai/rtk/rtk3-remain/",s.no,".md")
writeLines(content, s.path)
}
}
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
s.ka <- s.v4[s.v4$no==s.no,2]
s.key <- s.v4[s.v4$no==s.no,3]
s.sks <- s.v4[s.v4$no==s.no,4]
s.koo <- s.v4[s.v4$no==s.no,5]
# File name
# File content
content <- paste0("---",
"\nlayout: kanji-remain",
"\nv4: ", s.no,
"\nkanji: ", s.ka,
"\nkeyword: ", s.key,
"\nstrokes: ", s.sks,
"\npermalink: /v4/", s.no,"/",
"\nredirect_from:",
"\n - /", s.ka, "/",
"\n - /", s.key, "/",
"\n---",
"\n\n", s.koo,
"\n")
s.path <- paste0("/data/repos/manhtai/rtk/rtk3-remain/",s.no,".md")
writeLines(content, s.path)
}
}
library(stringr)
# Load koohii data
s.v4 <- readRDS("rtk3-remain.rds")
s.v4 <- as.data.frame(s.v4, stringsAsFactors = FALSE)
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
s.ka <- s.v4[s.v4$no==s.no,2]
s.key <- s.v4[s.v4$no==s.no,3]
s.sks <- s.v4[s.v4$no==s.no,4]
s.koo <- s.v4[s.v4$no==s.no,5]
# File name
# File content
content <- paste0("---",
"\nlayout: kanji-remain",
"\nv4: ", s.no,
"\nkanji: ", s.ka,
"\nkeyword: ", s.key,
"\nstrokes: ", s.sks,
"\npermalink: /", s.ka,"/",
"\nredirect_from:",
"\n - /v4/", s.no, "/",
"\n - /", s.key, "/",
"\n---",
"\n\n", s.koo,
"\n")
s.path <- paste0("/data/repos/manhtai/rtk/rtk3-remain/",s.no,".md")
writeLines(content, s.path)
}
}
library(stringr)
# Load strokes data
data <- read.csv("rtk1-v6-strokes.csv")
data <- as.vector(data$flds)
# Load koohii stories data
koo.v4 <- readRDS("rtk1-v6-koohii.rds")
koo.v4 <- as.data.frame(koo.v4)
# Combine two data in each Jekyll post
n <- length(data)
for (i in 1:n) {
line <- data[i]
line <- str_split(line, "\037")
l <- line[[1]]
l.no <- l[2]
l.no6 <- l[3]
l.key <- l[4]
l.ka <- l[5]
l.img <- str_replace(l[6],
"<img src=\"([[:alnum:]]{6,}).png\" />",
"\\1")
l.ele <- l[8]
l.sks <- l[9]
l.hei <- l[11]
l.hei <- str_replace_all(l.hei, "\"", "&quot;")
l.hei <- str_replace_all(l.hei, "<div>", "\n")
l.hei <- str_replace_all(l.hei, "</div>", "")
l.on <- l[17]
l.kun <- l[18]
l.word <- l[19]
l.word <- str_replace_all(l.word, "<br[ ]*[/]?>", "\n\n")
l.example <- l[20]
l.na <- paste0(str_dup("0",4-str_length(l.no6)),l.no6)
l.pri <- koo.v4[koo.v4$no==l.no,2]
l.koo <- koo.v4[koo.v4$no==l.no,3]
content <- paste0("---",
"\nlayout: kanji",
"\nv4: ", l.no,
"\nv6: ", l.no6,
"\nkanji: ", l.ka,
"\nkeyword: ",l.key,
"\nelements: ", l.ele,
"\nstrokes: ", l.sks,
"\nimage: ", l.img,
"\non-yomi: ", l.on,
ifelse(l.kun=="","",paste0("\nkun-yomi: ", l.kun)),
"\npermalink: /", l.no6,"/",
"\nredirect_from:",
"\n - /", l.ka, "/",
"\n - /v4/", l.no, "/",
ifelse(str_detect(l.ka,"ãƒ»"),
paste0("\n - /", str_sub(l.ka,1,1), "/",
"\n - /", str_sub(l.ka,3,3), "/"),""),
"\nprev: ", as.numeric(l.no6) - 1,
"\nnext: ", as.numeric(l.no6) + 1,
ifelse(l.hei=="","",
paste0("\nheisig: \"",l.hei,"\"")),
ifelse(l.pri=="","",
paste0("\nprimit: \"",l.pri,"\"")),
"\n---",
"\n\n", l.koo,
"\n")
l.path <- paste0("/data/repos/manhtai/rtk/rtk1-v6/",l.na,".md")
writeLines(content, l.path)
}
library(stringr)
# Load koohii data
s.v4 <- readRDS("rtk3-remain.rds")
s.v4 <- as.data.frame(s.v4, stringsAsFactors = FALSE)
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
s.ka <- s.v4[s.v4$no==s.no,2]
s.key <- s.v4[s.v4$no==s.no,3]
s.sks <- s.v4[s.v4$no==s.no,4]
s.koo <- s.v4[s.v4$no==s.no,5]
# File name
# File content
content <- paste0("---",
"\nlayout: kanji-remain",
"\nv4: ", s.no,
"\nkanji: ", s.ka,
"\nkeyword: ", s.key,
"\nstrokes: ", s.sks,
"\npermalink: /", s.ka,"/",
"\nredirect_from:",
"\n - /v4/", s.no, "/",
"\n---",
"\n\n", s.koo,
"\n")
s.path <- paste0("/data/repos/manhtai/rtk/rtk3-remain/",s.no,".md")
writeLines(content, s.path)
}
}
library(stringr)
# Load koohii data
s.v4 <- readRDS("rtk3-remain.rds")
s.v4 <- as.data.frame(s.v4, stringsAsFactors = FALSE)
k.v4 <- readRDS("rtk1-v6-koohii.rds")
k.v4 <- as.data.frame(k.v4, stringsAsFactors = FALSE)
c.list <- 1:3030
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
count <- count + 1
c.list[count] <- s.no
}
}
count <- 0
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
count <- count + 1
c.list[count] <- s.no
}
}
for (i in 1:2200) {
k.no <- k.v4[i,1]
count <- count + 1
c.list[count] <- k.no
}
}
count <- 0
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
count <- count + 1
c.list[count] <- s.no
}
}
for (i in 1:2200) {
k.no <- k.v4[i,1]
count <- count + 1
c.list[count] <- k.no
}
?match
c.list
c.list <- rep(0,3030)
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
count <- count + 1
c.list[count] <- s.no
}
}
for (i in 1:2200) {
k.no <- k.v4[i,1]
count <- count + 1
c.list[count] <- k.no
}
count <- 0
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
count <- count + 1
c.list[count] <- s.no
}
}
for (i in 1:2200) {
k.no <- k.v4[i,1]
count <- count + 1
c.list[count] <- k.no
}
c.list <- rep(0,3030)
count <- 0
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
count <- count + 1
c.list[count] <- s.no
}
}
for (i in 1:2200) {
k.no <- k.v4[i,1]
count <- count + 1
c.list[count] <- k.no
}
c.list
?sort
c.sort <- sort(c.list)
c.sort
c.list <- rep(0,3030)
count <- 0
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
count <- count + 1
c.list[count] <- s.no
}
}
for (i in 1:2200) {
k.no <- k.v4[i,1]
k.no <- paste0(str_dup("0",4-str_length(k.no)),k.no)
count <- count + 1
c.list[count] <- k.no
}
c.sort <- sort(c.list)
c.sort
c.order <- as.character(1:3030)
c.list %in% c.order
??"subset"
c.full <- as.character(1:3030)
for (i in 1:count) {
if (c.list[i] %in% c.full) c.test[i] <- 0 esle c.test[i] <- 1
}
c.test <- rep(0,3030)
c.full <- as.character(1:3030)
for (i in 1:count) {
if !(c.list[i] %in% c.full) c.test[i] <- 1
}
c.test <- rep(0,3030)
c.full <- as.character(1:3030)
for (i in 1:3030) {
if (!(c.list[i] %in% c.full)) c.test[i] <- 1
}
c.test
sum(c.tetst)
sum(c.test)
c.list <- rep(0,3030)
count <- 0
for (i in 1:1545) {
s.no <- s.v4[i,1]
if (str_length(s.no) == 4) {
count <- count + 1
c.list[count] <- s.no
}
}
for (i in 1:2200) {
k.no <- k.v4[i,1]
count <- count + 1
c.list[count] <- k.no
}
c.test <- rep(0,39)
c.full <- as.character(1:3030)
count <- 0
for (i in 1:3030) {
if (!(c.list[i] %in% c.full)) {
count <- count + 1
c.test[count] <- i
}
}
c.test
count <- 0
for (i in 1:3030) {
if (!(c.full[i] %in% c.list)) {
count <- count + 1
c.test[count] <- c.full[i]
}
}
c.test
writeLines(c.test,"rtk3-remain-lost.txt")
rtk3 <- readLines("/data/Downloads/rtk3-remain.txt")
rtk3[1]
rtk3 <- str_split(rtk3, "\t")
library(stringr)
rtk3 <- str_split(rtk3, "\t")
s.v4 <- readRDS("rtk3-remain.rds")
s.v4 <- as.data.frame(s.v4, stringsAsFactors = FALSE)
rtk3[1]
rtk3[1][2]
rtk3[[1]][2]
rtk3[[1]][7]
rtk3[[1]][8]
rtk3[[1]][8] <- "koohii"
rtk3[[1]][8]
rtk3.full <- readLines("rtk3-remain-full.txt")
as.vector(rtk3.full)
rtk3.full <- as.vector(rtk3.full)
rtk3.full[1]
rtk3.full <- str_split(rtk3.full, "\t")
as.data.frame(rtk3.full)
rtk3.full[[1]][1]
rtk3.full <- readLines("rtk3-remain-full.txt")
rtk3.full <- str_split(rtk3.full, "\t")
rtk3.full[[1]]
as.matrix(rtk3.full)
?as.matrix
as.matrix(rtk3.full, ncol=7)
as.matrix(rtk3.full, ncol=7, dimnames=list(1:830,c("no","ka","key",
"sks","on","s2")))
rtk3.full <- readLines("rtk3-remain-full.txt")
rtk3.full <- str_split(rtk3.full, "\t")
rtk3 <- as.matrix(rtk3.full, ncol=7)
View(rtk3)
rtk3[1]
View(rtk3)
rtk3.full <- readLines("rtk3-remain-full.txt")
rtk3.full <- str_split(rtk3.full, "\t")
library(stringr)
rtk3.full <- readLines("rtk3-remain-full.txt")
rtk3.full <- str_split(rtk3.full, "\t")
rtk3.full$1
rtk3.full[[1]][1]
as.matrix(rtk3.full)[1]
as.matrix(rtk3.full)[1,]
as.matrix(rtk3.full)[,1]
as.vector(rtk3.full)[,1]
as.vector(rtk3.full)[1]
?str_split
rtk3 <- matrix(rep("",5*830), ncol=5,
dimnames=list(1:830,c("no","ka","key",
"sks","s2")))
for (i in 1:830) {
rtk3[i,1] <- rtk3.full[[i]][5]
rtk3[i,2] <- rtk3.full[[i]][1]
rtk3[i,3] <- rtk3.full[[i]][2]
rtk3[i,4] <- rtk3.full[[i]][4]
}
View(rtk3)
rtk3.koo <- readRDS("rtk3-remain-koohii.rds")
rtk3.koo <- as.data.frame(rtk3.koo, stringsAsFactors = FALSE)
rtk3.koo[rtk3.koo$no == rtk3[i,1],5]
i
rtk3[i,1]
for (i in 1:830) {
rtk3[i,1] <- rtk3.full[[i]][5]
rtk3[i,2] <- rtk3.full[[i]][1]
rtk3[i,3] <- rtk3.full[[i]][2]
rtk3[i,4] <- rtk3.full[[i]][4]
rtk3[i,5] <- rtk3.koo[rtk3.koo$no == rtk3[i,1],5]
}
View(rtk3.koo)
i
rtk3[i,1]
rtk3.koo[rtk3.koo$no == rtk3[i,1],5]
rtk3[i,5] <- rtk3.koo[rtk3.koo$no == rtk3[i,1],5]
is.null
is.null(rtk3.koo[rtk3.koo$no == rtk3[i,1],5])
is.na(rtk3.koo[rtk3.koo$no == rtk3[i,1],5])
character(0)
(rtk3.koo[rtk3.koo$no == rtk3[i,1],5] == character(0))
rtk3.koo[rtk3.koo$no == rtk3[i,1],5] == character(0)
rtk3.koo[rtk3.koo$no == rtk3[i,1],5]
as.character(rtk3.koo[rtk3.koo$no == rtk3[i,1],5])
rtk3[i,5] <- as.character(rtk3.koo[rtk3.koo$no == rtk3[i,1],5])
rtk3[i,1]
rtk3.koo$no
rtk3.no <- rtk3.full[[i]][5]
rtk3[i,1] <- rtk3.no
rtk3.no %in% rtk3.koo$no
for (i in 1:830) {
rtk3.no <- rtk3.full[[i]][5]
rtk3[i,1] <- rtk3.no
rtk3[i,2] <- rtk3.full[[i]][1]
rtk3[i,3] <- rtk3.full[[i]][2]
rtk3[i,4] <- rtk3.full[[i]][4]
if (rtk3.no %in% rtk3.koo$no) {
rtk3[i,5] <- rtk3.koo[rtk3.koo$no == rtk3[i,1],5]
}
}
View(rtk3)
rtk3 <- matrix(rep("",6*830), ncol=6,
dimnames=list(1:830,c("no","ka","key",
"sks","s2","on")))
for (i in 1:830) {
rtk3.no <- rtk3.full[[i]][5]
rtk3[i,1] <- rtk3.no
rtk3[i,2] <- rtk3.full[[i]][1]
rtk3[i,3] <- rtk3.full[[i]][2]
rtk3[i,4] <- rtk3.full[[i]][4]
rtk3[i,6] <- rtk3.full[[i]][7]
if (rtk3.no %in% rtk3.koo$no) {
rtk3[i,5] <- rtk3.koo[rtk3.koo$no == rtk3[i,1],5]
}
}
saveRDS(rtk3,"rtk3-remain.rds")
s.v4 <- readRDS("rtk3-remain.rds")
s.v4 <- as.data.frame(s.v4, stringsAsFactors = FALSE)
for (i in 1:1545) {
s.no <- s.v4[i,1]
s.ka <- s.v4[s.v4$no==s.no,2]
s.key <- s.v4[s.v4$no==s.no,3]
s.sks <- s.v4[s.v4$no==s.no,4]
s.koo <- s.v4[s.v4$no==s.no,5]
s.on <- s.v4[s.v4$no==s.no,6]
# File name
# File content
content <- paste0("---",
"\nlayout: kanji-remain",
"\nv4: ", s.no,
"\nkanji: ", s.ka,
"\nkeyword: ", s.key,
"\nstrokes: ", s.sks,
"\non-yomi: ", s.on,
"\npermalink: /", s.ka,"/",
"\nredirect_from:",
"\n - /v4/", s.no, "/",
"\n---",
"\n\n", ifelse(s.koo=="","","## Koohii stories: "),
"\n",s.koo,
"\n")
s.path <- paste0("/data/repos/manhtai/rtk/rtk3-remain/",s.no,".md")
writeLines(content, s.path)
}
s.v4 <- as.data.frame(s.v4, stringsAsFactors = FALSE)
for (i in 1:830) {
s.no <- s.v4[i,1]
s.ka <- s.v4[s.v4$no==s.no,2]
s.key <- s.v4[s.v4$no==s.no,3]
s.sks <- s.v4[s.v4$no==s.no,4]
s.koo <- s.v4[s.v4$no==s.no,5]
s.on <- s.v4[s.v4$no==s.no,6]
# File name
# File content
content <- paste0("---",
"\nlayout: kanji-remain",
"\nv4: ", s.no,
"\nkanji: ", s.ka,
"\nkeyword: ", s.key,
"\nstrokes: ", s.sks,
"\non-yomi: ", s.on,
"\npermalink: /", s.ka,"/",
"\nredirect_from:",
"\n - /v4/", s.no, "/",
"\n---",
"\n\n", ifelse(s.koo=="","","## Koohii stories: "),
"\n",s.koo,
"\n")
s.path <- paste0("/data/repos/manhtai/rtk/rtk3-remain/",s.no,".md")
writeLines(content, s.path)
}
for (i in 1:830) {
s.no <- s.v4[i,1]
s.ka <- s.v4[s.v4$no==s.no,2]
s.key <- s.v4[s.v4$no==s.no,3]
s.sks <- s.v4[s.v4$no==s.no,4]
s.koo <- s.v4[s.v4$no==s.no,5]
s.on <- s.v4[s.v4$no==s.no,6]
# File name
# File content
content <- paste0("---",
"\nlayout: kanji-remain",
"\nv4: ", s.no,
"\nkanji: ", s.ka,
"\nkeyword: ", s.key,
"\nstrokes: ", s.sks,
"\non-yomi: ", s.on,
"\npermalink: /", s.ka,"/",
"\nredirect_from:",
"\n - /v4/", s.no, "/",
"\n---",
"\n\n", ifelse(s.koo=="","","## Koohii stories: "),
"\n\n",s.koo,
"\n")
s.path <- paste0("/data/repos/manhtai/rtk/rtk3-remain/",s.no,".md")
writeLines(content, s.path)
}
